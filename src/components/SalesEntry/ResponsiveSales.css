/* --- COMPACT THREE-COLUMN PHONE ADAPTATION --- */
@media screen and (max-width: 1024px) {
    
    /* 1. Force the row to fit the screen width exactly */
    .three-column-layout[style],
    div[class*="three-column-layout"] {
        display: flex !important;
        flex-direction: row !important;
        flex-wrap: nowrap !important;
        width: 100vw !important;
        max-width: 100vw !important;
        margin-top: 0 !important;
        padding: 2px !important;
        gap: 2px !important;
        box-sizing: border-box !important;
        overflow: hidden !important;
    }

    /* 2. Proportional Column Widths (Adjusted for visibility) */
    .left-sidebar[style],
    .right-sidebar[style] {
        flex: 0 0 18% !important; /* Slightly narrower sidebars */
        max-width: 18% !important;
        height: 75vh !important;
        overflow-x: hidden !important;
    }

    .center-form[style] {
        flex: 1 1 62% !important; /* Form takes the remaining space */
        max-width: 62% !important;
        padding: 4px !important;
        height: auto !important;
    }

    /* 3. Global Scaling for Visibility */
    /* This forces text to be tiny but stay inside the boxes */
    .three-column-layout * {
        font-size: 1.4vw !important; 
        line-height: 1 !important;
    }

    /* 4. Fix Input Rows - Stack inputs slightly within the center to save width */
    .pos-sales-view form > div {
        display: flex !important;
        flex-wrap: wrap !important;
        gap: 2px !important;
    }

    /* Inputs take half-width or full-width depending on space */
    .pos-sales-view input,
    .pos-sales-view .react-select-container {
        width: 48% !important; 
        height: 22px !important;
        padding: 1px 4px !important;
        min-width: 0 !important;
    }

    /* 5. Compact Table View */
    .flex-grow.overflow-y-auto {
        display: block !important;
        width: 100% !important;
        overflow-x: auto !important;
    }

    table {
        width: 100% !important;
        border-spacing: 0 !important;
    }

    table th, table td {
        padding: 1px 2px !important;
        font-size: 1.2vw !important;
    }

    /* 6. Fix Absolute Offsets and Red Text */
    div[style*="translateY"],
    div[style*="transform"],
    div[style*="margin-left"] {
        transform: none !important;
        margin-left: 0 !important;
        width: 100% !important;
        display: flex !important;
        justify-content: flex-end !important;
    }

    /* Scale down the red totals area */
    div[style*="color: 'red'"], 
    div[style*="color: red"] {
        font-size: 1.5vw !important;
        white-space: nowrap !important;
    }

    /* 7. Footer Links Visibility */
    footer, .layout-footer {
        display: flex !important;
        flex-wrap: wrap !important;
        justify-content: center !important;
        font-size: 1.5vw !important;
    }
}